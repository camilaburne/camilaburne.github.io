I"ß	<h1 id="abrir-shapefile-en-r">Abrir shapefile en R</h1>

<p>Hay muchas opciones para importar archivos shapefile en R, creo que la m√°s f√°cil es a trav√©s de la librer√≠a <a href="#https://cran.r-project.org/web/packages/rgdal/rgdal.pdf">rgdal</a>,  con la funci√≥n readOGR para leer mapas como objetos espaciales.</p>

<p><code class="language-plaintext highlighter-rouge">library(rgdal)</code></p>

<p>Recomiendo estar trabajando en el mismo working directory en donde se halla el archivo, as√≠ se puede verificar que el mismo est√© completo y su nombre bien escrito.</p>

<p><code class="language-plaintext highlighter-rouge">setwd("C:/Users/miusuario/Documents/esri")</code></p>

<p>Un shapefile se compone <strong>al menos de 3 archivos</strong>, de extensi√≥n: <code class="language-plaintext highlighter-rouge">.shp .shx</code> y <code class="language-plaintext highlighter-rouge">.dbf</code>. Sin estos tres no se va a poder abrir el shapefile, y los tres tienen que tener exactamente el mismo nombre.</p>

<p><code class="language-plaintext highlighter-rouge">.shp</code> es el archivo que almacena las entidades geom√©tricas de los objetos.
<code class="language-plaintext highlighter-rouge">.shx</code> es el archivo que almacena el √≠ndice de las entidades geom√©tricas.
<code class="language-plaintext highlighter-rouge">.dbf</code> es la base de datos, en formato dBASE, donde se almacena la informaci√≥n de los atributos de los objetos.</p>

<p>Opcionalmente se pueden utilizar otros archivos con extensi√≥n .cpg .prj y .qpj para especificar el encoding o incluir informaci√≥n sobre la proyecci√≥n cartogr√°fica.</p>

<p>Al correr <code class="language-plaintext highlighter-rouge">list.files()</code> en R, se muestra en la consola el contenido de la carpeta del directorio de trabajo, para este shapefile consiste de seis archivos</p>

<p>[1] ‚Äúmi_shape.cpg‚Äù ‚Äúmi_shape.dbf‚Äù ‚Äúmi_shape.prj‚Äù ‚Äúmi_shape.qpj‚Äù ‚Äúmi_shape.shp‚Äù ‚Äúmi_shape.shx‚Äù
En R se abre el shapefile al escribir su nombre sin ninguna extensi√≥n.</p>

<p>sp_df &lt;- readOGR(dsn = ‚Äú.‚Äù, layer = ‚Äúmi_shape‚Äù)
Y ahora s√≠ disponer de todas las herramientas de R para hacer gr√°ficos muy lindos.</p>

<p>library(leaflet)</p>

<p>pal &lt;- colorNumeric( palette = ‚ÄúYlGnBu‚Äù, domain = shape2$AREA)</p>

<p>leaflet(shape2) %&gt;%
    addProviderTiles(‚ÄúCartoDB.Positron‚Äù) %&gt;%
    addPolygons(color = ~pal(shape2$AREA),
    stroke = FALSE, fillOpacity = 0.6)</p>
:ET