I"È<h1 id="abrir-shapefile-en-r">Abrir shapefile en R</h1>

<p>Hay muchas opciones para importar archivos shapefile en R, creo que la m√°s f√°cil es a trav√©s de la librer√≠a <a href="#https://cran.r-project.org/web/packages/rgdal/rgdal.pdf">rgdal</a>,  con la funci√≥n readOGR para leer mapas como objetos espaciales.</p>

<p><code class="language-plaintext highlighter-rouge">library(rgdal)</code></p>

<p>Recomiendo estar trabajando en el mismo working directory en donde se halla el archivo, as√≠ se puede verificar que el mismo est√© completo y su nombre bien escrito.</p>

<p><code class="language-plaintext highlighter-rouge">setwd("C:/Users/miusuario/Documents/esri")</code></p>

<p>Un shapefile se compone <strong>al menos de 3 archivos</strong>, de extensi√≥n:</p>
<h3 id="shp-shx-y-dbf">.shp .shx y .dbf</h3>

<p>.shp es el archivo que almacena las entidades geom√©tricas de los objetos.
.shx es el archivo que almacena el √≠ndice de las entidades geom√©tricas.
.dbf es la base de datos, en formato dBASE, donde se almacena la informaci√≥n de los atributos de los objetos.
Opcionalmente se pueden utilizar otros archivos con extensi√≥n .cpg .prj y .qpj para especificar el encoding o incluir informaci√≥n sobre la proyecci√≥n cartogr√°fica.
Al correr list.files() en R, se muestra en la consola el contenido de la carpeta del directorio de trabajo, para este shapefile consiste de seis archivos</p>

<p>[1] ‚Äúmi_shape.cpg‚Äù ‚Äúmi_shape.dbf‚Äù ‚Äúmi_shape.prj‚Äù ‚Äúmi_shape.qpj‚Äù ‚Äúmi_shape.shp‚Äù ‚Äúmi_shape.shx‚Äù
En R se abre el shapefile al escribir su nombre sin ninguna extensi√≥n.</p>

<p>sp_df &lt;- readOGR(dsn = ‚Äú.‚Äù, layer = ‚Äúmi_shape‚Äù)
Y ahora s√≠ disponer de todas las herramientas de R para hacer gr√°ficos muy lindos.</p>

<p>library(leaflet)</p>

<p>pal &lt;- colorNumeric( palette = ‚ÄúYlGnBu‚Äù, domain = shape2$AREA)</p>

<p>leaflet(shape2) %&gt;%
    addProviderTiles(‚ÄúCartoDB.Positron‚Äù) %&gt;%
    addPolygons(color = ~pal(shape2$AREA),
    stroke = FALSE, fillOpacity = 0.6)</p>
:ET